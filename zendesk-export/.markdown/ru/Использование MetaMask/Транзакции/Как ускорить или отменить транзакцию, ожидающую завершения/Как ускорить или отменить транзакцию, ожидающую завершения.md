Когда вы отправляете транзакцию в Ethereum или в совместимой сети, цена газа является предложением для сети обработать вашу транзакцию быстрее — это элемент еще называется комиссией за приоритет. Хотя MetaMask поможет вам с расчетом общей комиссии за газ, при которой ваша транзакция, скорее всего, будет принята, но ждать, возможно, придется долго, если будет подана заявка с низкой ценой на газ. Чтобы узнать, с какой ценой на газ транзакция будет завершена в разумные сроки, обратитесь к таким источникам, как [газ-трекер Etherscan](https://etherscan.io/gastracker), или к аналогичному трекеру для любой сети, которую вы используете.


Кроме того, иногда что-то идет не так, и транзакция просто зависает или находится в ожидании в течение очень долгого времени.


Независимо от того, что привело к этому, есть несколько разных способов решения.


 


### Прежде чем предпринимать какие-либо действия, первым делом следует выйти и полностью закрыть браузер, снова открыть его и разблокировать MetaMask (в мобильном приложении просто закройте приложение и повторно откройте его). Если это не решит проблему, выполните следующие действия:


 


**Ускорение транзакции**
------------------------


![MetaMask ускоряет транзакцию](https://support.metamask.io/hc/article_attachments/12927043481371)


Попробуйте один из вариантов ниже:


* Подождите, пока сеть не будет готова обрабатывать транзакции по этой цене
* Если вы еще этого не сделали, нажмите кнопку с надписью **Ускорить**. Это позволит вам повторно отправить ту же транзакцию, но с более высокой комиссией за газ, что должно ускорить обработку транзакции. Поскольку этот процесс повторно использует тот же nonce, что и в оригинальной транзакции, платить за газ дважды не нужно.


Имейте в виду, что **ускорение транзакции увеличит сумму, которую вы тратите на транзакцию**.


 


**Отмена транзакции. Способ 1: отмена в приложении**
----------------------------------------------------


Если вы еще этого не сделали, для отмены транзакции просто выберите **Отменить**, как показано на скриншоте выше. Обратите внимание, **отмена может быть *предпринята* если транзакция все еще находится на рассмотрении в сети.** Транзакции, которые уже были подтверждены, не могут быть отменены обратно.


 


**Отмена транзакции. Способ 2: пользовательские nonce**
-------------------------------------------------------


Этот процесс включает в себя отправку новой транзакции с тем же nonce (идентификационным номером для каждой транзакции, полученным из фразы «number only used once» (одноразовое случайное число)). Транзакция может не иметь никакой ценности, например, вы можете отправить 0 ETH. Важно то, что вы платите достаточно за газ, чтобы сеть отдавала ей приоритет.


При использовании этого способа, **вам нужно будет начинать с транзакции, дольше всего ожидающей подтверждения в очереди и которую вы хотите отменить**. Например, вы не можете попытаться отменить транзакцию с nonce 10 до отмены транзакции с nonce 9. 


*Скриншоты ниже были сделаны в разное время, поэтому показанные в них комиссии за газ могут отличаться даже от шага к шагу. Пусть это вас не смущает! Когда вы делаете это сами, MetaMask будет автоматически обновляться в режиме реального времени, чтобы показывать рыночные ставки.*




Расширение браузера Мобильное приложение


1. В дополнительных настройках включите **Настроить nonce транзакции** и **Расширенный контроль газа.** Последнее позволит вам управлять количеством газом, который вы тратите, и убедиться, что транзакция отмены будет обработана раньше, чем изначальная транзакция, которую вы хотите отменить.



#### Примечание:


В настоящее время в расширении браузера MetaMask доступна экспериментальная функция под названием [Расширенный интерфейс управления комиссией за газ](https://metamask.io/1559/) (не путать с [расширенным контролем газа](https://support.metamask.io/hc/en-us/articles/360022895972)). Эти шаги можно выполнить независимо от того, включена ли эта функция, но имейте в виду, что они будут выглядеть по-разному. В следующих шагах не используется расширенный интерфейс управления газом. Имейте в виду:



	* Если у вас включен расширенный интерфейс управления газом, вам также необходимо включить «Настроить nonce транзакции».
	* Если у вас не включен расширенный интерфейс управления газом, вам необходимо включить как «Расширенный контроль газа», так и «Настроить nonce транзакции».

![Расширенные настройки MetaMask](https://support.metamask.io/hc/article_attachments/12927064113947)
2. **Отправить новую транзакцию**. Новую транзакцию отправьте **на** свой, имеется в виду ваш общедоступный адрес MetaMask. **Внесите в «Пользовательский nonce» тот же nonce, что и в транзакции, которая все еще находится на рассмотрении**:


![Metamask_custom_transaction_nonce_Extension.png](https://support.metamask.io/hc/article_attachments/12927064259483)
3. Нажмите «Изменить» рядом с полем «Комиссия за газ» (если у вас включен экспериментальный режим [«Расширенный интерфейс управления газом»](https://support.metamask.io/hc/en-us/articles/360022895972-Using-advanced-gas-controls#:~:text=%C2%A0-,Enhanced%20Gas%20UI,-Since%20the%20introduction), он будет отображаться как «Рынок»). Теперь вы увидите следующие варианты:


![Расширенный контроль газа MetaMask в расширении браузера](https://support.metamask.io/hc/article_attachments/12927065407515)


Чтобы убедиться, что ваш запрос на отмену был принят в приоритетном порядке и раньше оригинала, **вам надо заплатить за газ больше**. Следуйте следующим инструкциям:


	* Установите свой **лимит газа** *сравнимый или немного выше*, чем в изначальной транзакции.
	* Установите **максимальную комиссию за приоритет** по крайней мере *на 10% выше* (в Gwei), чем плата за газ изначальной (ожидающей) транзакции (например, если у этой транзакция комиссия за газ была 30 Gwei, установите максимальную комиссию за приоритет для новой транзакции замены/отмены 33-35 Gwei).
	* Убедитесь, что ваша максимальная комиссия как минимум на 30% выше, чем максимальная комиссия транзакции, которую вы заменяете. Например, если ваша предыдущая комиссия была 150 Gwei, выберите что-то около 200 Gwei.Проверьте газ-трекер такой, как [Etherscan](https://etherscan.io/gastracker) или [газовую станцию ETH](https://ethgasstation.info/) для понимания рекомендаций по максимальным комиссиям.




1. **В разделе Настройки > Дополнительные настройки включите «Настроить nonce транзакции».**
2. **Отправить новую транзакцию.** Новую транзакцию отправьте на свой, имеется в виду ваш общедоступный адрес MetaMask. **Внесите в «Пользовательский nonce» тот же nonce, что и в транзакции, которая все еще находится на рассмотрении**.


Чтобы найти пользовательскую настройку nonce в приложении, перейдите на экран подтверждения транзакции, который появится после ввода количества токенов и получателя. Нажмите «Изменить», чтобы изменить ее:


![Пользовательский nonce транзакции MetaMask в мобильном приложении](https://support.metamask.io/hc/article_attachments/12927068442907)
3. Теперь вам нужно убедиться, что ваши настройки газа установлены таким образом, чтобы была обработана замещающая транзакция. На экране подтверждения транзакции нажмите выделенное значение газа:


![Расширенный контроль газа MetaMask в мобильном приложении](https://support.metamask.io/hc/article_attachments/12927041593755)


Теперь зайдите в «Расширенные параметры» в появившемся меню.
4. Здесь вы можете выполнять точные корректировки газа, чтобы транзакция была принята. Теперь вы увидите экран, который выглядит следующим образом:


![Расширенный контроль газа MetaMask в мобильном приложении](https://support.metamask.io/hc/article_attachments/12927063201691)


Здесь откорректируйте настройки газа. Следуйте следующим инструкциям, чтобы ваша транзакция была принята:


	* Установите свой **лимит газа** *сравнимый или немного выше*, чем в изначальной транзакции.
	* Установите **максимальную комиссию за приоритет** по крайней мере *на 10% выше* (в Gwei), чем плата за газ изначальной (ожидающей) транзакции (например, если у этой транзакция комиссия за газ была 30 Gwei, установите максимальную комиссию за приоритет для новой транзакции замены/отмены 33-35 Gwei).
	* Убедитесь, что ваша **максимальная комиссия** *как минимум на 30% выше*, чем максимальная комиссия транзакции, которую вы заменяете. Например, если ваша предыдущая комиссия была 150 Gwei, выберите что-то около 200 Gwei.Проверьте газ-трекер такой, как [Etherscan](https://etherscan.io/gastracker) или [газовую станцию ETH](https://ethgasstation.info/) для понимания рекомендаций по максимальным комиссиям.



