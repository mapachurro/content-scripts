<p>Когда вы отправляете транзакцию в Ethereum или в совместимой сети, цена газа является предложением для сети обработать вашу транзакцию быстрее — это элемент еще называется комиссией за приоритет. Хотя MetaMask поможет вам с расчетом общей комиссии за газ, при которой ваша транзакция, скорее всего, будет принята, но ждать, возможно, придется долго, если будет подана заявка с низкой ценой на газ. Чтобы узнать, с какой ценой на газ транзакция будет завершена в разумные сроки, обратитесь к таким источникам, как <a href="https://etherscan.io/gastracker" target="_self" rel="undefined">газ-трекер Etherscan</a>, или к аналогичному трекеру для любой сети, которую вы используете.</p>
<p>Кроме того, иногда что-то идет не так, и транзакция просто зависает или находится в ожидании в течение очень долгого времени.</p>
<p>Независимо от того, что привело к этому, есть несколько разных способов решения.</p>
<p> </p>
<h3>Прежде чем предпринимать какие-либо действия, первым делом следует выйти и полностью закрыть браузер, снова открыть его и разблокировать MetaMask (в мобильном приложении просто закройте приложение и повторно откройте его). Если это не решит проблему, выполните следующие действия:</h3>
<p> </p>
<h2><strong>Ускорение транзакции</strong></h2>
<p class="wysiwyg-text-align-center"><img src="https://support.metamask.io/hc/article_attachments/12927043481371" alt="MetaMask ускоряет транзакцию" width="315" height="533"></p>
<p>Попробуйте один из вариантов ниже:</p>
<ul>
<li>Подождите, пока сеть не будет готова обрабатывать транзакции по этой цене</li>
<li>Если вы еще этого не сделали, нажмите кнопку с надписью <strong>Ускорить</strong>. Это позволит вам повторно отправить ту же транзакцию, но с более высокой комиссией за газ, что должно ускорить обработку транзакции. Поскольку этот процесс повторно использует тот же nonce, что и в оригинальной транзакции, платить за газ дважды не нужно.</li>
</ul>
<p>Имейте в виду, что <strong>ускорение транзакции увеличит сумму, которую вы тратите на транзакцию</strong>.</p>
<p> </p>
<h2><strong>Отмена транзакции. Способ 1: отмена в приложении</strong></h2>
<p>Если вы еще этого не сделали, для отмены транзакции просто выберите <strong>Отменить</strong>, как показано на скриншоте выше. Обратите внимание, <strong>отмена может быть <em>предпринята</em> если транзакция все еще находится на рассмотрении в сети. </strong> Транзакции, которые уже были подтверждены, не могут быть отменены обратно.</p>
<p> </p>
<h2><strong>Отмена транзакции. Способ 2: пользовательские nonce</strong></h2>
<p>Этот процесс включает в себя отправку новой транзакции с тем же nonce (идентификационным номером для каждой транзакции, полученным из фразы «number only used once» (одноразовое случайное число)). Транзакция может не иметь никакой ценности, например, вы можете отправить 0 ETH. Важно то, что вы платите достаточно за газ, чтобы сеть отдавала ей приоритет.</p>
<p>При использовании этого способа, <strong>вам нужно будет начинать с транзакции, дольше всего ожидающей подтверждения в очереди и которую вы хотите отменить</strong>. Например, вы не можете попытаться отменить транзакцию с nonce 10 до отмены транзакции с nonce 9. </p>
<p><em>Скриншоты ниже были сделаны в разное время, поэтому показанные в них комиссии за газ могут отличаться даже от шага к шагу. Пусть это вас не смущает! Когда вы делаете это сами, MetaMask будет автоматически обновляться в режиме реального времени, чтобы показывать рыночные ставки.</em></p>
<div class="tabs tabs--colored-1">
<div class="tabs-menu">
<span class="tabs-link is-active">Расширение браузера</span> <span class="tabs-link">Мобильное приложение</span>
</div>
<div class="tab">
<ol>
<li>
<p>В дополнительных настройках включите <strong>Настроить nonce транзакции</strong> и <strong>Расширенный контроль газа.</strong> Последнее позволит вам управлять количеством газом, который вы тратите, и убедиться, что транзакция отмены будет обработана раньше, чем изначальная транзакция, которую вы хотите отменить.</p>
<div class="callout callout--info">
<h4 class="callout__title">Примечание:</h4>
<p>В настоящее время в расширении браузера MetaMask доступна экспериментальная функция под названием <a href="https://metamask.io/1559/">Расширенный интерфейс управления комиссией за газ</a> (не путать с <a href="https://support.metamask.io/hc/en-us/articles/360022895972" target="_self">расширенным контролем газа</a>). Эти шаги можно выполнить независимо от того, включена ли эта функция, но имейте в виду, что они будут выглядеть по-разному. В следующих шагах не используется расширенный интерфейс управления газом. Имейте в виду:</p>
<ul>
<li>Если у вас включен расширенный интерфейс управления газом, вам также необходимо включить «Настроить nonce транзакции».</li>
<li>Если у вас не включен расширенный интерфейс управления газом, вам необходимо включить как «Расширенный контроль газа», так и «Настроить nonce транзакции».</li>
</ul>
</div>
<p class="wysiwyg-text-align-center"><img src="https://support.metamask.io/hc/article_attachments/12927064113947" alt="Расширенные настройки MetaMask" width="640" height="329"></p>
</li>
<li>
<p><strong>Отправить новую транзакцию</strong>. Новую транзакцию отправьте <strong>на</strong> свой, имеется в виду ваш общедоступный адрес MetaMask. <strong>Внесите в «Пользовательский nonce» тот же nonce, что и в транзакции, которая все еще находится на рассмотрении</strong>:</p>
<p class="wysiwyg-text-align-center"><img src="https://support.metamask.io/hc/article_attachments/12927064259483" alt="Metamask_custom_transaction_nonce_Extension.png" width="315" height="529"></p>
</li>
<li>
<p>Нажмите «Изменить» рядом с полем «Комиссия за газ» (если у вас включен экспериментальный режим <a href="https://support.metamask.io/hc/en-us/articles/360022895972-Using-advanced-gas-controls#:~:text=%C2%A0-,Enhanced%20Gas%20UI,-Since%20the%20introduction" target="_self">«Расширенный интерфейс управления газом»</a>, он будет отображаться как «Рынок»). Теперь вы увидите следующие варианты:</p>
<p class="wysiwyg-text-align-center"><img src="https://support.metamask.io/hc/article_attachments/12927065407515" alt="Расширенный контроль газа MetaMask в расширении браузера" width="315" height="529"></p>
<p>Чтобы убедиться, что ваш запрос на отмену был принят в приоритетном порядке и раньше оригинала, <strong>вам надо заплатить за газ больше</strong>. Следуйте следующим инструкциям:</p>
<ul>
<li>Установите свой <strong>лимит газа</strong> <em>сравнимый или немного выше</em>, чем в изначальной транзакции.</li>
<li>Установите <strong>максимальную комиссию за приоритет</strong> по крайней мере <em>на 10% выше</em> (в Gwei), чем плата за газ изначальной (ожидающей) транзакции (например, если у этой транзакция комиссия за газ была 30 Gwei, установите максимальную комиссию за приоритет для новой транзакции замены/отмены 33-35 Gwei).</li>
<li>Убедитесь, что ваша максимальная комиссия как минимум на 30% выше, чем максимальная комиссия транзакции, которую вы заменяете. Например, если ваша предыдущая комиссия была 150 Gwei, выберите что-то около 200 Gwei.</li>
</ul>
<p><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;">Проверьте газ-трекер такой, как </span><a style="background-color: #ffffff; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;" href="https://etherscan.io/gastracker" target="_self">Etherscan</a><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;"> или </span><a style="background-color: #ffffff; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;" href="https://ethgasstation.info/" target="_self" rel="undefined">газовую станцию ETH</a><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;"> для понимания рекомендаций по максимальным комиссиям. </span></p>
</li>
</ol>
</div>
<div class="tab is-hidden">
<ol>
<li>
<p><strong>В разделе Настройки &gt; Дополнительные настройки включите «Настроить nonce транзакции».</strong></p>
</li>
<li>
<p><strong>Отправить новую транзакцию.</strong> Новую транзакцию отправьте на свой, имеется в виду ваш общедоступный адрес MetaMask. <strong>Внесите в «Пользовательский nonce» тот же nonce, что и в транзакции, которая все еще находится на рассмотрении</strong>.</p>
<p>Чтобы найти пользовательскую настройку nonce в приложении, перейдите на экран подтверждения транзакции, который появится после ввода количества токенов и получателя. Нажмите «Изменить», чтобы изменить ее:</p>
<p class="wysiwyg-text-align-center"><img src="https://support.metamask.io/hc/article_attachments/12927068442907" alt="Пользовательский nonce транзакции MetaMask в мобильном приложении" width="315" height="631"></p>
</li>
<li>
<p>Теперь вам нужно убедиться, что ваши настройки газа установлены таким образом, чтобы была обработана замещающая транзакция. На экране подтверждения транзакции нажмите выделенное значение газа:</p>
<p class="wysiwyg-text-align-center"><img src="https://support.metamask.io/hc/article_attachments/12927041593755" alt="Расширенный контроль газа MetaMask в мобильном приложении" width="476" height="190"></p>
<p>Теперь зайдите в «Расширенные параметры» в появившемся меню.</p>
</li>
<li>
<p>Здесь вы можете выполнять точные корректировки газа, чтобы транзакция была принята. Теперь вы увидите экран, который выглядит следующим образом:</p>
<p class="wysiwyg-text-align-center"><img src="https://support.metamask.io/hc/article_attachments/12927063201691" alt="Расширенный контроль газа MetaMask в мобильном приложении" width="315" height="554"></p>
<p>Здесь откорректируйте настройки газа. Следуйте следующим инструкциям, чтобы ваша транзакция была принята:</p>
<ul>
<li>Установите свой <strong>лимит газа</strong> <em>сравнимый или немного выше</em>, чем в изначальной транзакции.</li>
<li>Установите <strong>максимальную комиссию за приоритет</strong> по крайней мере <em>на 10% выше</em> (в Gwei), чем плата за газ изначальной (ожидающей) транзакции (например, если у этой транзакция комиссия за газ была 30 Gwei, установите максимальную комиссию за приоритет для новой транзакции замены/отмены 33-35 Gwei).</li>
<li>Убедитесь, что ваша <strong>максимальная комиссия</strong> <em>как минимум на 30% выше</em>, чем максимальная комиссия транзакции, которую вы заменяете. Например, если ваша предыдущая комиссия была 150 Gwei, выберите что-то около 200 Gwei.</li>
</ul>
<p>Проверьте газ-трекер такой, как <a href="https://etherscan.io/gastracker" target="_self">Etherscan</a> или <a href="https://ethgasstation.info/" target="_self">газовую станцию ETH</a> для понимания рекомендаций по максимальным комиссиям.</p>
</li>
</ol>
</div>
</div>